\section{Release Policy} \label{sec:policy}

The following policies are derived from the consolidated requirements described in the previous section \ref{sec:reqdef}.


\subsection{Versioning Policy} \label{sec:versinopolicy}

The DM release versioning shall follow Semantic Versioning\footnote{\url{https://semver.org/}} as described in \citeds{DMTN-106}, section 3.3.

This policy partially addresses the requirement for stable APIs (\S\ref{sec:stable}).

% Removed this comment, because it is not release policy.
%In general, API stability is a development aspect that needs to be addressed in the \citep{DevGuide}.


\subsection{Release Schedule Policy} \label{sec:schedulepolicy}

Major and minor releases should be scheduled accordingly to the requirements of each stakeholder.

Each release shall be made following a release plan, which provides the following information:

\begin{itemize}
\item when the release is expected;
\item the specify the corresponding milestone or RFC;
\item if it is a time-based release: specify the release cadence (for example, every 6 months);
\item if it is a functionality based release: specify which features shall be included in the release.
\end{itemize}

This policy addresses requirement \$\ref{sec:milestone}.


\subsection{Patch Releases and Backporting Policy} \label{sec:patchpolicy}

Patch releases shall be scheduled, tested and approved by the DMCCB wherever possible.
However, the DM Project Manager can authorize urgent releases if required.

The mechanisms by which fixes are back-ported are a matter of development practice, rather than policy; as such, they are addressed in the Developer Guide \citep{DevGuide}.

This policy addresses requirement \S\ref{sec:backport} .


\subsection{Release Testing Policy} \label{sec:testpolicy}

All releases must be fully tested and the results recorded according to standard DM practice\footnote{At time of writing, this means that test activities are managed using the Adaptavist Test Management framework for Jira.}.

The scope of the test is to ensure that:

\begin{itemize}
\item All planned functionality is provided and working;
\item There is no regression in functionality or performance relative to previous releases.
\end{itemize}

This policy addresses requirement \S\ref{sec:test} .

Note that, in some cases, and at the discretion of the DM-CCB, it may be appropriate to relax this policy and release based solely on successful execution of unit and/or integration tests.


\subsection{Release Note Policy} \label{sec:notepolicy}

Each release shall be documented by an accompanying set of release notes.

\citeds{DMTN-106} \S3.2 provides a definition of software release note that can be used as is or tailed depending on the needs (see also \S\ref{sec:defs} of this document).

This policy addresses requirement \S\ref{sec:reqdoc}.


\subsection{Third-Party Software Policy} \label{sec:thirdpolicy}

In shall be possible to include in a software product or distribution a software package provided by an external collaborator.
The use of all third-party packages shall be approved by the DMCCB using the RFC mechanism.
External software may be included in the following ways:

\begin{itemize}
\item The package may be included in the standard environment used to execute DM code\footnote{At time of writing, this environment is based on Conda.}
    \begin{itemize}
    \item this implies that the third party software is already packaged for that environment, or, alternatively, that DM must itself provide sucha a package.
    \item the software will be provided \textit{as is} and DM is not responsible for it
    \end{itemize}
\item include the software as part of a DM software distribution, as an additional package \footnote{At time of wrting, this would mean packaging for EUPS.}
    \begin{itemize}
    \item the software is provided \textit{as is} and DM is not responsible for it
    \end{itemize}
\item Create a new DM-provided software product to contain the third-party software
    \begin{itemize}
    \item This is appropriate if DM-specific patches or customization is required.
    \item DM takes responsibility for the customized package.
    \end{itemize}
\end{itemize}

In all cases, a member of the DM team shall be identified as point of contact and reference for the external package.

This policy addresses requirement \S\ref{sec:thirdsw}.


\subsection{Software License Policy} \label{sec:licensepolicy}

All DM-produced software must carry an Open Source Initiative (OSI)-approved license\footnote{\url{https://opensource.org/licenses}}.
Specific requirements for particular aspects of the DM codebase are addressed in the Developer Guide \citep{DevGuide}.


\newpage
\section{Applicability of policies } \label{sec:applicability}

The policies described in the previous section \ref{sec:policy} are mandatory, except where specified as non-mandatory.

The \gls{DM} software products, on which these policies are applicable, are defined in the LDM-294.
The approved product tree is available online at \url{https://ldm-294.lsst.io/ProductTreeLand.pdf}



\subsection{Non Compliance} \label{sec:noncompliance}

Each T/CAM may  specify which policy is not applicable for the specific software product and why.

Each stakeholder should ensure that the level of compliance provided by the required software products is acceptable for them.

The DM-CCB shall ensure that the available compliance information is agreed between T/CAMs and stakeholders.

Each time a policy is not considered applicable to a software product the effectiveness of the process is reduced and the risks of problems increase.
